# Step 4 - UIè¨­è¨ˆã¾ã¨ã‚ï¼ˆQRcodelyzeï¼‰

## ğŸ–¼ ç”»é¢æ§‹æˆ

### ğŸ”· ç”»é¢1ï¼šGenerateãƒ¢ãƒ¼ãƒ‰ï¼ˆQRã‚³ãƒ¼ãƒ‰ç”Ÿæˆï¼‰

| ä½ç½® | å†…å®¹              | ä½¿ç”¨Widget                                  |
| -- | --------------- | ----------------------------------------- |
| ä¸Šéƒ¨ | ç”Ÿæˆã•ã‚ŒãŸQRã‚³ãƒ¼ãƒ‰ã®è¡¨ç¤º   | `QrImage`ï¼ˆ`qr_flutter`ï¼‰ã¾ãŸã¯ `Image.memory` |
| ä¸­å¤® | ãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›æ¬„         | `TextField`ï¼ˆãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ï¼‰                     |
| ä¸‹éƒ¨ | Clearãƒœã‚¿ãƒ³        | `TextButton` or `ElevatedButton`          |
| ä¸‹éƒ¨ | Generateãƒœã‚¿ãƒ³ï¼ˆå¼·èª¿ï¼‰ | `ElevatedButton`ï¼ˆenabledï¼‰                 |
| ä¸‹éƒ¨ | Scanãƒœã‚¿ãƒ³ï¼ˆé·ç§»ï¼‰     | `ElevatedButton`ï¼ˆto Scanç”»é¢ï¼‰               |

### ğŸ”· ç”»é¢2ï¼šScanãƒ¢ãƒ¼ãƒ‰ï¼ˆQRã‚³ãƒ¼ãƒ‰èª­ã¿å–ã‚Šï¼‰

| ä½ç½® | å†…å®¹                          | ä½¿ç”¨Widget                          |
| -- | --------------------------- | --------------------------------- |
| ä¸Šéƒ¨ | ã‚«ãƒ¡ãƒ©ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ or é¸æŠç”»åƒ            | `CameraPreview` or `Image.memory` |
| ä¸­å¤® | ã‚¹ã‚­ãƒ£ãƒ³çŠ¶æ…‹/çµæœè¡¨ç¤º                 | `Text`, `SelectableText`          |
| ä¸‹éƒ¨ | Scanãƒ¢ãƒ¼ãƒ‰ãƒˆã‚°ãƒ«ï¼ˆCamera â‡„ Photosï¼‰ | `ElevatedButton`ï¼ˆçŠ¶æ…‹ã«å¿œã˜ã¦è¡¨ç¤ºã‚’å¤‰ãˆã‚‹ï¼‰    |
| ä¸‹éƒ¨ | Generateãƒœã‚¿ãƒ³ï¼ˆæˆ»ã‚‹ï¼‰             | `ElevatedButton`                  |
| ä¸‹éƒ¨ | Scanãƒœã‚¿ãƒ³ï¼ˆå¼·èª¿ï¼‰                 | `ElevatedButton`ï¼ˆenabledï¼‰         |

---

## ğŸ” ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œãƒ•ãƒ­ãƒ¼

```mermaid
flowchart TD
    A[èµ·å‹•æ™‚] --> B{è¡¨ç¤ºãƒ¢ãƒ¼ãƒ‰}

    %% Generateå´
    B --> |åˆæœŸ=Generate| C[æ–‡å­—ã‚’å…¥åŠ›]
    C --> D[Changeã‚¤ãƒ™ãƒ³ãƒˆã§QRã‚³ãƒ¼ãƒ‰ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°]
    D --> E[Scanãƒœã‚¿ãƒ³æŠ¼ä¸‹ã§Scanãƒ¢ãƒ¼ãƒ‰ã¸]

    %% Scanå´
    B --> |Scanãƒ¢ãƒ¼ãƒ‰| F[åˆæœŸè¡¨ç¤º: ã‚«ãƒ¡ãƒ©ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼]
    F --> G[ã‚«ãƒ¡ãƒ©ã§QRã‚³ãƒ¼ãƒ‰ã‚’èª­ã¿å–ã‚‹]
    G --> H[ã‚¹ã‚­ãƒ£ãƒ³çµæœã‚’è¡¨ç¤º]
    H --> I[Generateãƒœã‚¿ãƒ³æŠ¼ä¸‹ã§ç”Ÿæˆãƒ¢ãƒ¼ãƒ‰ã¸]

    %% Scan submode: Photos
    F --> J[Scan from Photosãƒœã‚¿ãƒ³æŠ¼ä¸‹]
    J --> K[ç”»åƒé¸æŠ â†’ QRã‚¹ã‚­ãƒ£ãƒ³çµæœè¡¨ç¤º]
    K --> L[Scan from Cameraãƒœã‚¿ãƒ³ã§ã‚«ãƒ¡ãƒ©ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã«æˆ»ã‚‹]
    L --> F
```

---

## ğŸ’¡ è£œè¶³

* Scanãƒ¢ãƒ¼ãƒ‰å†…ã§ã€ŒScan from Photosã€â‡„ã€ŒScan from Cameraã€ã¯ãƒˆã‚°ãƒ«æ§‹é€ 
* Generateãƒ¢ãƒ¼ãƒ‰ã§ã¯ã€ãƒ†ã‚­ã‚¹ãƒˆå¤‰æ›´ã¨åŒæ™‚ã«QRã‚³ãƒ¼ãƒ‰ã‚’å³æ™‚åæ˜ ï¼ˆ`onChanged` ã‚¤ãƒ™ãƒ³ãƒˆï¼‰
* ãƒ¢ãƒ¼ãƒ‰ã”ã¨ã®çŠ¶æ…‹ç®¡ç†ã«ã¯ `StatefulWidget` + `enum ScreenMode { generate, scan }` ãªã©ã‚’ç”¨ã„ã‚‹æƒ³å®š
