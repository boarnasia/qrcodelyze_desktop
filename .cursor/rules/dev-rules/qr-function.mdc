---
description: 
globs: 
alwaysApply: false
---
---

description: QRã‚³ãƒ¼ãƒ‰ç”Ÿæˆã¨ã‚¹ã‚­ãƒ£ãƒ³æ©Ÿèƒ½ã®è¨­è¨ˆãƒ»ä½¿ç”¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ»ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°æ–¹é‡
ruleType: Auto Attached
globs:

* lib/widgets/qr\_display.dart
* lib/screens/generate\_screen.dart
* lib/screens/scan\_screen.dart

---

## ğŸ”³ QRã‚³ãƒ¼ãƒ‰ç”Ÿæˆæ©Ÿèƒ½

* ä½¿ç”¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ï¼š`qr_flutter`
* ä»£è¡¨çš„ãªWidgetï¼š

  ```dart
  QrImage(
    data: qrData,
    version: QrVersions.auto,
    size: 200.0,
  )
  ```
* ãƒ‡ãƒ¼ã‚¿ã¯ `TextField` ã® `onChanged` ã‹ã‚‰å³æ™‚æ›´æ–°ã™ã‚‹
* ç©ºæ–‡å­—åˆ—ã‚„nullæ™‚ã®ã‚¬ãƒ¼ãƒ‰æ¡ä»¶ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ï¼ˆä¾‹ï¼š`if (qrData.isEmpty)`ï¼‰

---

## ğŸ“· QRã‚³ãƒ¼ãƒ‰ã‚¹ã‚­ãƒ£ãƒ³æ©Ÿèƒ½

* ã‚«ãƒ¡ãƒ©ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã¯ `camera` + `qr_code_scanner` ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒä¸€èˆ¬çš„

* ç”»åƒé¸æŠã«ã¯ `image_picker` ã¨ `qr_code_tools`ï¼ˆã¾ãŸã¯ `google_ml_kit`ï¼‰ã‚’ä½µç”¨å¯èƒ½

* ç”»åƒã‚¹ã‚­ãƒ£ãƒ³ã®ä¾‹ï¼ˆç°¡ç•¥ï¼‰ï¼š

  ```dart
  final pickedFile = await ImagePicker().pickImage(source: ImageSource.gallery);
  final result = await QrCodeToolsPlugin.decodeFrom(pickedFile.path);
  ```

* `isPhotoMode` ã«å¿œã˜ã¦å‡¦ç†ã‚’åˆ†å²ã™ã‚‹ï¼š

  ```dart
  if (isPhotoMode) {
    // pick image and decode
  } else {
    // show camera preview
  }
  ```

---

## âš ï¸ ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã¨UXé…æ…®

* ã‚¹ã‚­ãƒ£ãƒ³å¤±æ•—ã€ç”»åƒé¸æŠã‚­ãƒ£ãƒ³ã‚»ãƒ«ã€èª­ã¿å–ã‚Šä¸èƒ½ãªQRã‚³ãƒ¼ãƒ‰ãªã©ã‚’è€ƒæ…®ã—ã€çŠ¶æ…‹è¡¨ç¤ºï¼ˆä¾‹ï¼š`"ã‚¹ã‚­ãƒ£ãƒ³ã«å¤±æ•—ã—ã¾ã—ãŸ"`ï¼‰ã‚’è¿½åŠ ã™ã‚‹ã“ã¨
* ã‚¹ã‚­ãƒ£ãƒ³æˆåŠŸå¾Œã¯ `setState` ã§ç”»é¢ã«åæ˜ ã—ã€çµæœã‚’ã‚³ãƒ”ãƒ¼ã§ãã‚‹UIã‚‚æ¤œè¨

---

ã“ã®ãƒ«ãƒ¼ãƒ«ã¯QRã‚³ãƒ¼ãƒ‰ã®å…¥å‡ºåŠ›ã«é–¢ã™ã‚‹ã™ã¹ã¦ã®Widgetãƒ»ç”»é¢ã«å¯¾ã—ã¦è‡ªå‹•ã§é©ç”¨ã•ã‚Œã‚‹ã€‚

